<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get the result of function Assessment_via_cluster — Getting_Asses_results • FCMm</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get the result of function Assessment_via_cluster — Getting_Asses_results" />
<meta property="og:description" content="This function mainly use function Assessment_via_cluster to get
  assessments both from fuzzy and hard mode. Specifically, it will return the accuracy and precision of 
  MAE,CMAPE,BIAS, and CMRPE which would be seemed as the input value of 
  function Scoring_system." />
<meta property="og:image" content="https://github.com/bishun945/FCMm/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FCMm</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.11.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Assessment.html">Algorithms assessment via cluster</a>
    </li>
    <li>
      <a href="../articles/Builtin_centrodis.html">Usage of the built in centroids by FCMm</a>
    </li>
    <li>
      <a href="../articles/Cluster_new_data.html">Cluster a new dataset by FCMm</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bishun945/FCMm/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get the result of function Assessment_via_cluster</h1>
    <small class="dont-index">Source: <a href='https://github.com/bishun945/FCMm/blob/master/R/Algorithms_assessment.R'><code>R/Algorithms_assessment.R</code></a></small>
    <div class="hidden name"><code>Getting_Asses_results.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function mainly use function <a href='Assessment_via_cluster.html'>Assessment_via_cluster</a> to get
  assessments both from fuzzy and hard mode. Specifically, it will return the accuracy and precision of 
  <code>MAE</code>,<code>CMAPE</code>,<code>BIAS</code>, and <code>CMRPE</code> which would be seemed as the input value of 
  function <a href='Scoring_system.html'>Scoring_system</a>.</p>
    </div>

    <pre class="usage"><span class='fu'>Getting_Asses_results</span><span class='op'>(</span>
  <span class='va'>sample.size</span>,
  replace <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>pred</span>,
  <span class='va'>meas</span>,
  <span class='va'>memb</span>,
  metrics_used <span class='op'>=</span> <span class='fl'>1</span>,
  cluster <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span><span class='op'>(</span><span class='va'>memb</span>, <span class='fl'>1</span>, <span class='va'>which.max</span><span class='op'>)</span>,
  seed <span class='op'>=</span> <span class='cn'>NULL</span>,
  log10 <span class='op'>=</span> <span class='cn'>TRUE</span>,
  valid.definition <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>negative <span class='op'>=</span> <span class='cn'>FALSE</span>, percent <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sample.size</th>
      <td><p>Sample size. This supports a bootstrap way to run the function 
<a href='Assessment_via_cluster.html'>Assessment_via_cluster</a>. The number should not be larger than the row number 
of pred or so.</p></td>
    </tr>
    <tr>
      <th>replace</th>
      <td><p>Logical, replace, default as <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>pred</th>
      <td><p>Prediction matrix or data.frame</p></td>
    </tr>
    <tr>
      <th>meas</th>
      <td><p>Measured (actual) matrix or data.frame</p></td>
    </tr>
    <tr>
      <th>memb</th>
      <td><p>Membership matrix</p></td>
    </tr>
    <tr>
      <th>metrics_used</th>
      <td><p>The metric combination used in the function. Default is <code>1</code>.</p>
<p>If <code>metrics_used = 1</code> then the used metrics are <code><a href='https://rdrr.io/r/base/c.html'>c("MAE", "CMAPE", "BIAS", "CMRPE")</a></code></p>
<p>If <code>metrics_used = 2</code> then the used metrics are <code><a href='https://rdrr.io/r/base/c.html'>c("MAE", "CMAPE", "BIAS", "CMRPE", "RATIO")</a></code></p></td>
    </tr>
    <tr>
      <th>cluster</th>
      <td><p>Cluster vector. Could be calculated by the parameter <code>memb</code>. Will be deprecated later.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>Seed number for fixing the random process. See <code><a href='https://rdrr.io/r/base/Random.html'>help(set.seed)</a></code> for more details.</p></td>
    </tr>
    <tr>
      <th>log10</th>
      <td><p>pass to <a href='Sampling_via_cluster.html'>Sampling_by_sort</a>.</p></td>
    </tr>
    <tr>
      <th>valid.definition</th>
      <td><p>The definition of valid prediction, default as <code><a href='https://rdrr.io/r/base/list.html'>list(negative=FALSE, percent = 0.6)</a></code>.
  The invalid prediction will not be removed to calculate error metrics.</p>
<p><code>negative=FALSE</code> means the negative values are considered as invalid predictions while <code>percent</code> means
  the tolerance of error-percentage that only the predictions between <code>(y-y*percent), y+y*percent)</code> are valid.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing fuzzy and hard results from <a href='Assessment_via_cluster.html'>Assessment_via_cluster</a></p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The row number of <code>pred</code>, <code>meas</code>, <code>memb</code>, and <code>cluster</code> should be the same. 
  This function is designed for bootstrapping process to get Chla algorithms assessment. Therefore, 
  parameters of <a href='Assessment_via_cluster.html'>Assessment_via_cluster</a> is set as fixed such as <code>log10 = TRUE</code>, 
  <code>na.process = TRUE</code>. Given that, I will not export this function in latter to avoid confuses.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Algorithm assessment: 
<code><a href='Assessment_via_cluster.html'>Assessment_via_cluster</a>()</code>,
<code><a href='Sampling_via_cluster.html'>Sampling_via_cluster</a>()</code>,
<code><a href='Score_algorithms_interval.html'>Score_algorithms_interval</a>()</code>,
<code><a href='Score_algorithms_sort.html'>Score_algorithms_sort</a>()</code>,
<code><a href='Scoring_system.html'>Scoring_system</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/bishun945/FCMm'>FCMm</a></span><span class='op'>)</span> 
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span> 
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>magrittr</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"Nechad2015"</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='va'>Nechad2015</span><span class='op'>[</span>,<span class='fl'>3</span><span class='op'>:</span><span class='fl'>11</span><span class='op'>]</span>
<span class='va'>wv</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"X"</span>,<span class='st'>""</span>,<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='va'>as.numeric</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>
<span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fl'>300</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='va'>x</span><span class='op'>[</span><span class='va'>w</span>, <span class='op'>]</span>
<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>wv</span>
<span class='va'>nb</span> <span class='op'>=</span> <span class='fl'>4</span> <span class='co'># Obtained from the vignette "Cluster a new dataset by FCMm"</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>
<span class='va'>FD</span> <span class='op'>&lt;-</span> <span class='fu'><a href='FuzzifierDetermination.html'>FuzzifierDetermination</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>wv</span>, do.stand<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>result</span> <span class='op'>&lt;-</span> <span class='fu'><a href='FCM.new.html'>FCM.new</a></span><span class='op'>(</span><span class='va'>FD</span>, <span class='va'>nb</span>, fast.mode <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>The fast mode is used. Pay attention to the convergence of the obj. fun. and results!</span></div><div class='input'><span class='va'>p.spec</span> <span class='op'>&lt;-</span> <span class='fu'><a href='plot_spec.html'>plot_spec</a></span><span class='op'>(</span><span class='va'>result</span>, show.stand<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>p.spec</span><span class='op'>$</span><span class='va'>p.cluster.spec</span><span class='op'>)</span>
</div><div class='img'><img src='Getting_Asses_results-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='va'>Chla</span> <span class='op'>&lt;-</span> <span class='va'>Nechad2015</span><span class='op'>$</span><span class='va'>X.Chl_a..ug.L.</span><span class='op'>[</span><span class='va'>w</span><span class='op'>]</span>
<span class='va'>Chla</span><span class='op'>[</span><span class='va'>Chla</span> <span class='op'>&gt;=</span> <span class='fl'>999</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='cn'>NA</span>
<span class='va'>dt_Chla</span> <span class='op'>&lt;-</span> <span class='fu'><a href='run_all_Chla_algorithms.html'>run_all_Chla_algorithms</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='va'>as.data.frame</span>
<span class='va'>dt_Chla</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>Chla_true <span class='op'>=</span> <span class='va'>Chla</span>,
BR_Gil10 <span class='op'>=</span> <span class='va'>dt_Chla</span><span class='op'>$</span><span class='va'>BR_Gil10</span>, 
OC4_OLCI <span class='op'>=</span> <span class='va'>dt_Chla</span><span class='op'>$</span><span class='va'>OC4_OLCI</span>, 
OCI_Hu12 <span class='op'>=</span> <span class='va'>dt_Chla</span><span class='op'>$</span><span class='va'>OCI_Hu12</span>, 
NDCI_Mi12<span class='op'>=</span> <span class='va'>dt_Chla</span><span class='op'>$</span><span class='va'>NDCI_Mi12</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>)</span>
<span class='va'>w</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>dt_Chla</span><span class='op'>$</span><span class='va'>Chla_true</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>dt_Chla</span> <span class='op'>=</span> <span class='va'>dt_Chla</span><span class='op'>[</span><span class='va'>w</span>,<span class='op'>]</span>
<span class='va'>memb</span> <span class='op'>=</span> <span class='va'>result</span><span class='op'>$</span><span class='va'>res.FCM</span><span class='op'>$</span><span class='va'>u</span><span class='op'>[</span><span class='va'>w</span>,<span class='op'>]</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fl'>4</span><span class='op'>)</span>
<span class='va'>cluster</span> <span class='op'>=</span>  <span class='va'>result</span><span class='op'>$</span><span class='va'>res.FCM</span><span class='op'>$</span><span class='va'>cluster</span><span class='op'>[</span><span class='va'>w</span><span class='op'>]</span>
<span class='va'>Asses_results</span> <span class='op'>&lt;-</span> <span class='fu'>Getting_Asses_results</span><span class='op'>(</span>sample.size<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>cluster</span><span class='op'>)</span>, 
pred <span class='op'>=</span> <span class='va'>dt_Chla</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, meas <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>dt_Chla</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>, memb <span class='op'>=</span> <span class='va'>memb</span>, 
cluster <span class='op'>=</span> <span class='va'>cluster</span><span class='op'>)</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://bishun945.github.io/CV/'>Shun Bi</a>, Yunmei Li.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


